<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0055)http://www.pantz.org/database/mysql/mysqlcommands.shtml -->
<HTML><HEAD><TITLE>MySQL Commands</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2900.2963" name=GENERATOR></HEAD>
<BODY><!-- start menu -->
<CENTER>
<TABLE cellSpacing=0 cellPadding=6 bgColor=#aaaaaa border=1>
  <TBODY>
  <TR>
    <TD><A href="http://www.pantz.org/index.shtml">Main Menu</A></TD>
    <TD><A href="http://www.pantz.org/blog">Blog</A></TD>
    <TD><A 
href="http://www.pantz.org/about.shtml">About</A></TD></TR></TBODY></TABLE></CENTER>
<P></P><!-- end menu -->
<CENTER>
<TABLE>
  <TBODY>
  <TR>
    <TD><PRE>  __  __       ____   ___  _
 |  \/  |_   _/ ___| / _ \| |
 | |\/| | | | \___ \| | | | |
 | |  | | |_| |___) | |_| | |___
 |_|  |_|\__, |____/ \__\_\_____|
         |___/
 </PRE></TD></TR></TBODY></TABLE></CENTER><BR>
<TABLE border=1>
  <TBODY>
  <TR>
    <TD align=middle bgColor=#aaaaaa colSpan=2><FONT size=3><B>Handy MySQL 
      Commands</B></FONT> </TD></TR>
  <TR>
    <TD><B>Description</B></TD>
    <TD><B>Command</B></TD></TR>
  <TR>
    <TD>To login (from unix shell) use -h only if needed.</TD>
    <TD>[mysql dir]/bin/mysql -h hostname -u root -p</TD></TR>
  <TR>
    <TD>Create a database on the sql server.</TD>
    <TD>create database [databasename];</TD></TR>
  <TR>
    <TD>List all databases on the sql server.</TD>
    <TD>show databases;</TD></TR>
  <TR>
    <TD>Switch to a database.</TD>
    <TD>use [db name];</TD></TR>
  <TR>
    <TD>To see all the tables in the db.</TD>
    <TD>show tables;</TD></TR>
  <TR>
    <TD>To see database's field formats.</TD>
    <TD>describe [table name];</TD></TR>
  <TR>
    <TD>To delete a db.</TD>
    <TD>drop database [database name];</TD></TR>
  <TR>
    <TD>To delete a table.</TD>
    <TD>drop table [table name];</TD></TR>
  <TR>
    <TD>Show all data in a table.</TD>
    <TD>SELECT * FROM [table name];</TD></TR>
  <TR>
    <TD>Returns the columns and column information pertaining to the 
      designated table.</TD>
    <TD>show columns from [table name];
    <TD>
  <TR>
  <TR>
    <TD>Show certain selected rows with the value "whatever".</TD>
    <TD>SELECT * FROM [table name] WHERE [field name] = "whatever";
    <TD>
  <TR>
  <TR>
    <TD>Show all records containing the name "Bob" AND the phone number 
      '3444444'.</TD>
    <TD>SELECT * FROM [table name] WHERE name = "Bob" AND phone_number = 
      '3444444';
    <TD>
  <TR>
  <TR>
    <TD>Show all records not containing the name "Bob" AND the phone number 
      '3444444' order by the phone_number field.</TD>
    <TD>SELECT * FROM [table name] WHERE name != "Bob" AND phone_number = 
      '3444444' order by phone_number;
    <TD>
  <TR>
  <TR>
    <TD>Show all records starting with the letters 'bob' AND the phone number 
      '3444444'.</TD>
    <TD>SELECT * FROM [table name] WHERE name like "Bob%" AND phone_number = 
      '3444444';
    <TD>
  <TR>
  <TR>
    <TD>Use a regular expression to find records. Use "REGEXP BINARY" to force 
      case-sensitivity. This finds any record beginning with a. </TD>
    <TD>SELECT * FROM [table name] WHERE rec RLIKE "^a$";
    <TD>
  <TR>
  <TR>
    <TD>Show unique records.</TD>
    <TD>SELECT DISTINCT [column name] FROM [table name];</TD></TR>
  <TR>
    <TD>Show selected records sorted in an ascending (asc) or descending 
      (desc).</TD>
    <TD>SELECT [col1],[col2] FROM [table name] ORDER BY [col2] DESC;</TD></TR>
  <TR>
    <TD>Count rows.</TD>
    <TD>SELECT COUNT(*) FROM [table name];
    <TD>
  <TR>
  <TR>
    <TD>Join tables on common columns.</TD>
    <TD>select lookup.illustrationid, lookup.personid,person.birthday from 
      lookup<BR>left join person on lookup.personid=person.personid=statement to 
      join birthday in person table with primary illustration id;</TD></TR>
  <TR>
    <TD>Switch to the mysql db. Create a new user.
    <TD>INSERT INTO [table name] (Host,User,Password) 
      VALUES('%','user',PASSWORD('password'));</TD></TR>
  <TR>
    <TD>Change a users password.(from unix shell).</TD>
    <TD>[mysql dir]/bin/mysqladmin -u root -h hostname.blah.org -p password 
      'new-password'</TD></TR>
  <TR>
    <TD>Change a users password.(from MySQL prompt).</TD>
    <TD>SET PASSWORD FOR 'user'@'hostname' = PASSWORD('passwordhere');</TD></TR>
  <TR>
    <TD>Switch to mysql db.Give user privilages for a db.</TD>
    <TD>INSERT INTO [table name] 
      (Host,Db,User,Select_priv,Insert_priv,Update_priv,Delete_priv,Create_priv,Drop_priv) 
      VALUES ('%','db','user','Y','Y','Y','Y','Y','N');</TD></TR>
  <TR>
    <TD>To update info already in a table.</TD>
    <TD>UPDATE [table name] SET Select_priv = 'Y',Insert_priv = 
      'Y',Update_priv = 'Y' where [field name] = 'user';</TD></TR>
  <TR>
    <TD>Delete a row(s) from a table.</TD>
    <TD>DELETE from [table name] where [field name] = 'whatever';</TD></TR>
  <TR>
    <TD>Update database permissions/privilages.</TD>
    <TD>FLUSH PRIVILEGES;</TD></TR>
  <TR>
    <TD>Delete a column.</TD>
    <TD>alter table [table name] drop column [column name];</TD></TR>
  <TR>
    <TD>Add a new column to db.</TD>
    <TD>alter table [table name] add column [new column name] varchar 
  (20);</TD></TR>
  <TR>
    <TD>Change column name.</TD>
    <TD>alter table [table name] change [old column name] [new column name] 
      varchar (50);</TD></TR>
  <TR>
    <TD>Make a unique column so you get no dupes.</TD>
    <TD>alter table [table name] add unique ([column name]);</TD></TR>
  <TR>
    <TD>Make a column bigger.</TD>
    <TD>alter table [table name] modify [column name] VARCHAR(3);</TD></TR>
  <TR>
    <TD>Delete unique from table.</TD>
    <TD>alter table [table name] drop index [colmn name];</TD></TR>
  <TR>
    <TD>Load a CSV file into a table.</TD>
    <TD>LOAD DATA INFILE '/tmp/filename.csv' replace INTO TABLE [table name] 
      FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n' 
    (field1,field2,field3);</TD></TR>
  <TR>
    <TD>Dump all databases for backup. Backup file is sql commands to recreate 
      all db's.</TD>
    <TD>[mysql dir]/bin/mysqldump -u root -ppassword --opt 
      &gt;/tmp/alldatabases.sql</TD></TR>
  <TR>
    <TD>Dump one database for backup.</TD>
    <TD>[mysql dir]/bin/mysqldump -u username -ppassword --databases 
      databasename &gt;/tmp/databasename.sql</TD></TR>
  <TR>
    <TD>Dump a table from a database.</TD>
    <TD>[mysql dir]/bin/mysqldump -c -u username -ppassword databasename 
      tablename &gt; /tmp/databasename.tablename.sql</TD></TR>
  <TR>
    <TD>Restore database (or database table) from backup.</TD>
    <TD>[mysql dir]/bin/mysql -u username -ppassword databasename &lt; 
      /tmp/databasename.sql </TD></TR>
  <TR>
    <TD>Create Table Example 1.</TD>
    <TD>CREATE TABLE [table name] (firstname VARCHAR(20), middleinitial 
      VARCHAR(3), lastname VARCHAR(35),suffix VARCHAR(3),<BR>officeid 
      VARCHAR(10),userid VARCHAR(15),username VARCHAR(8),email VARCHAR(35),phone 
      VARCHAR(25), groups <BR>VARCHAR(15),datestamp DATE,timestamp time,pgpemail 
      VARCHAR(255)); </TD></TR>
  <TR>
    <TD>Create Table Example 2.</TD>
    <TD>create table [table name] (personid int(50) not null auto_increment 
      primary key,firstname varchar(35),middlename varchar(50),lastname 
      varchar(50) default 'bato'); </TD></TR></TBODY></TABLE></BODY></HTML>
